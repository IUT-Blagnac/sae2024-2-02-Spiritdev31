#include <stdio.h>
#include <string.h>

// Fonction d'assistance pour vérifier les résultats des tests
void assertEqual(const char* expected, const char* actual, const char* testName) {
    if (strcmp(expected, actual) != 0) {
        printf("Test %s failed: expected \"%s\" but got \"%s\"\n", testName, expected, actual);
    } else {
        printf("Test %s passed\n", testName);
    }
}

// Définition des tests
void testRLE() {
    assertEqual("", RLE("", 1), "testRLE1");
    assertEqual("1a1b1c", RLE("abc", 1), "testRLE2");
    assertEqual("1a2b3c", RLE("abbccc", 1), "testRLE3");
    assertEqual("3a1b2a", RLE("aaabaa", 1), "testRLE4");
    assertEqual("1a1A1a", RLE("aAa", 1), "testRLE5");
}

void testRLERecursif() {
    assertEqual("", RLE("", 1), "testRLERecursif1");
    assertEqual("", RLE("", 3), "testRLERecursif2");
    assertEqual("1a1b1c", RLE("abc", 1), "testRLERecursif3");
    assertEqual("1a2b3c", RLE("abbccc", 1), "testRLERecursif4");
    assertEqual("3a1b2a", RLE("aaabaa", 1), "testRLERecursif5");
    assertEqual("1a1A1a", RLE("aAa", 1), "testRLERecursif6");
    assertEqual("111a111b111c", RLE("abc", 2), "testRLERecursif7");
    assertEqual("311a311b311c", RLE("abc", 3), "testRLERecursif8");

    const char* saeIte20 = "1113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123113221231231121113213221231221132221222112112322211S1113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123113221231231121113213221231221132221222112112322211A1113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123113221231231121113213221231221132221222112112322211 1113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123113221231231121113213221231221132221222112112322211A1113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123113221231231121113213221231221132221222112112322211l1113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123113221231231121113213221231221132221222112112322211g1113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123113221231231121113213221231221132221222112112322211o";
    assertEqual(RLE("SAE Algo", 20), saeIte20, "testRLERecursif9");
}

void testUnRLE() {
    assertEqual("", unRLE("", 1), "testUnRLE1");
    assertEqual("abc", unRLE("1a1b1c", 1), "testUnRLE2");
    assertEqual("abbccc", unRLE("1a2b3c", 1), "testUnRLE3");
    assertEqual("aaabaa", unRLE("3a1b2a", 1), "testUnRLE4");
    assertEqual("aAa", unRLE("1a1A1a", 1), "testUnRLE5");
}

void testUnRLERecursif() {
    assertEqual("", unRLE("", 1), "testUnRLERecursif1");
    assertEqual("", unRLE("", 3), "testUnRLERecursif2");
    assertEqual("abc", unRLE("1a1b1c", 1), "testUnRLERecursif3");
    assertEqual("abbccc", unRLE("1a2b3c", 1), "testUnRLERecursif4");
    assertEqual("aaabaa", unRLE("3a1b2a", 1), "testUnRLERecursif5");
    assertEqual("aAa", unRLE("1a1A1a", 1), "testUnRLERecursif6");
    assertEqual("abc", unRLE("111a111b111c", 2), "testUnRLERecursif7");
    assertEqual("abc", unRLE("311a311b311c", 3), "testUnRLERecursif8");
}

void testSupp() {
    assertEqual("wwwwwwwwwwww", unRLE(RLE("wwwwwwwwwwww", 1), 1), "testSupp1");
    assertEqual("aaaaaaaaaaa", unRLE(RLE("aaaaaaaaaaa", 1), 1), "testSupp2");
    assertEqual("bbbbbbbbbbb", unRLE(RLE("bbbbbbbbbbb", 1), 1), "testSupp3");
    assertEqual("ccccccccccc", unRLE(RLE("ccccccccccc", 1), 1), "testSupp4");
    assertEqual("ddddddddddd", unRLE(RLE("ddddddddddd", 1), 1), "testSupp5");
    assertEqual("eeeeeeeeeee", unRLE(RLE("eeeeeeeeeee", 1), 1), "testSupp6");
    assertEqual("fffffffffff", unRLE(RLE("fffffffffff", 1), 1), "testSupp7");
    assertEqual("ggggggggggg", unRLE(RLE("ggggggggggg", 1), 1), "testSupp8");
    assertEqual("hhhhhhhhhhh", unRLE(RLE("hhhhhhhhhhh", 1), 1), "testSupp9");
    RLE("SAE", 5); 
}

int main() {
    // Exécution des tests
    testRLE();
    testRLERecursif();
    testUnRLE();
    testUnRLERecursif();
    testSupp();

    return 0;
}
